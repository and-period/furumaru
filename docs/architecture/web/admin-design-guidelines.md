# 管理者Web デザインガイドライン - 畑（Hatake）テーマ

## はじめに

本ドキュメントは、ふるマル管理者Web のデザインガイドラインを定義する。農家を主要ユーザーとするECプラットフォームの管理画面として、「畑」をテーマにした温かみのある、ITリテラシーに依存しない、誰にとっても使いやすいインターフェースを目指す。

### デザイン原則

| 原則 | 説明 | 実践 |
|-----|------|------|
| **やさしさ** | 初めて触る人にも安心感を与えるUI | 角丸、柔らかい色、大きなボタン |
| **わかりやすさ** | 迷わず操作できるナビゲーション | 明確なラベル、パンくずリスト、段階的操作 |
| **あたたかみ** | 農業の温もりを感じるビジュアル | 自然の色彩、やわらかいシャドウ |
| **つかいやすさ** | 高齢者・IT初心者にも配慮 | 大きなタッチターゲット、十分なコントラスト |
| **一貫性** | アプリ全体で統一されたデザイン言語 | デザイントークン、コンポーネントライブラリ |

---

## カラーパレット

### プライマリカラー（畑の緑）

メインアクションやナビゲーションに使用する、ふるマルを象徴する色。

| トークン名 | 色コード | 用途 | プレビュー |
|-----------|---------|------|----------|
| `green-50` | `#f1f8e9` | ページ背景、ホバー背景 | 🟩（最淡） |
| `green-100` | `#dcedc8` | 選択状態の背景 | 🟩（淡） |
| `green-200` | `#c5e1a5` | アクティブ背景、ハイライト | 🟩 |
| `green-400` | `#9ccc65` | セカンダリボタン | 🟩 |
| `green-600` | `#7cb342` | **プライマリ（メイン）** | 🟩（主） |
| `green-800` | `#558b2f` | アクティブ状態、濃い背景 | 🟩（濃） |
| `green-900` | `#33691e` | 最も濃いアクセント | 🟩（最濃） |

### アクセントカラー（収穫の橙）

注目すべき要素やCTAに使用する、実りを象徴する色。

| トークン名 | 色コード | 用途 |
|-----------|---------|------|
| `harvest-100` | `#ffecb3` | アクセント背景 |
| `harvest-400` | `#ffca28` | バッジ、ハイライト |
| `harvest-600` | `#ffb300` | **アクセント（メイン）** |

### 大地カラー（サーフェス補助）

温かみのあるサーフェスやセクション区切りに使用する。

| トークン名 | 色コード | 用途 |
|-----------|---------|------|
| `earth-50` | `#efebe9` | ウォームサーフェス背景 |
| `earth-100` | `#d7ccc8` | セクション区切り |
| `earth-300` | `#a1887f` | サブテキスト、非活性状態 |

### セマンティックカラー

| 状態 | 色コード | アイコン | 使用例 |
|------|---------|---------|-------|
| 成功 | `#66bb6a` | `mdi-check-circle` | 保存完了、承認済み |
| 警告 | `#ffc107` | `mdi-alert` | 在庫少、期限間近 |
| エラー | `#ef5350` | `mdi-alert-circle` | 入力エラー、処理失敗 |
| 情報 | `#26c6da` | `mdi-information` | ヘルプ、ガイダンス |

### ニュートラルカラー

| トークン名 | 色コード | 用途 |
|-----------|---------|------|
| `text-primary` | `#1a1a1a` | 本文テキスト |
| `text-secondary` | `#616161` | 補助テキスト |
| `text-hint` | `#9e9e9e` | プレースホルダー |
| `border` | `#e0e0e0` | ボーダー |
| `divider` | `#eeeeee` | セクション区切り線 |
| `surface` | `#ffffff` | カード背景 |
| `background` | `#f1f8e9` | ページ背景（green-50） |

### カラー使用ルール

1. **背景色は green-50 をベースに**: ページ全体が薄い緑で畑の雰囲気を醸成
2. **カード背景は白**: コンテンツ領域は白で可読性を確保
3. **テキストは十分なコントラストを保証**: 最低 4.5:1（WCAG 2.2 AA）
4. **状態表示は色だけに頼らない**: 必ずアイコンとテキストを併用
5. **アクセントカラーは控えめに**: CTAボタンや重要な通知にのみ使用

---

## タイポグラフィ

### フォント

| 用途 | フォント | 理由 |
|------|---------|------|
| メイン | BIZ UDPGothic | UD（ユニバーサルデザイン）書体。高齢者の可読性に最適化 |
| フォールバック | Noto Sans JP, sans-serif | ウェイトバリエーション補完 |

### フォントサイズ

高齢者の可読性を考慮し、一般的な管理画面より大きめのベースサイズを採用。

| レベル | サイズ | 行の高さ | ウェイト | 用途 |
|-------|--------|---------|---------|------|
| ページタイトル | 30px (1.875rem) | 1.25 | Bold | ページ最上部の大見出し |
| セクション見出し | 24px (1.5rem) | 1.25 | Bold | カード・セクションの見出し |
| サブ見出し | 20px (1.25rem) | 1.375 | Semibold | サブセクションの見出し |
| 強調本文 | 18px (1.125rem) | 1.625 | Medium | 重要な説明文 |
| **本文（ベース）** | **16px (1rem)** | **1.625** | **Regular** | **通常のテキスト** |
| 補助テキスト | 14px (0.875rem) | 1.5 | Regular | 日付、ステータス、キャプション |
| キャプション | 13px (0.8125rem) | 1.5 | Regular | テーブルヘッダー、注釈 |

### テキスト使用ルール

1. **本文は 16px 未満にしない**: 高齢者の可読性を保証
2. **日本語の行間は 1.5 以上**: 漢字が多い日本語テキストでは広めの行間が必須
3. **1行の文字数は 40〜50 文字以内**: 視線移動を最小化
4. **太字は見出しとラベルのみ**: 本文中の太字使用は最小限に

---

## スペーシング

### スペーシングスケール

4px を基本単位とした一貫性のあるスペーシング。

| トークン | 値 | 用途 |
|---------|-----|------|
| `space-1` | 4px | インライン要素間の微小な間隔 |
| `space-2` | 8px | アイコンとテキストの間隔 |
| `space-3` | 12px | リストアイテム間の間隔 |
| `space-4` | 16px | フォーム入力フィールド間の間隔 |
| `space-5` | 20px | フォームグループ間の間隔 |
| `space-6` | 24px | カード内パディング |
| `space-8` | 32px | セクション間の間隔 |
| `space-10` | 40px | 大きなセクション区切り |
| `space-12` | 48px | ページセクション間 |

### レイアウト間隔ルール

1. **カード内のパディング**: 24px（`space-6`）
2. **カード間の間隔**: 16〜24px（`space-4` 〜 `space-6`）
3. **セクション間の間隔**: 32px（`space-8`）
4. **フォーム要素間**: 20px（`space-5`）
5. **ボタン間**: 12px（`space-3`）

---

## コンポーネントデザイン

### ボタン

```
┌─────────────────────────────────────────────────────┐
│ バリアント        │ 用途                 │ 外観      │
├──────────────────┼─────────────────────┼──────────┤
│ Primary (塗り)    │ メインアクション      │ 緑背景白文字│
│ Secondary (枠線)  │ サブアクション        │ 緑枠緑文字  │
│ Text (テキスト)   │ キャンセル、戻る      │ テキストのみ│
│ Danger (赤塗り)   │ 削除、取消           │ 赤背景白文字│
│ Accent (橙塗り)   │ CTA、重要な新規作成   │ 橙背景白文字│
└──────────────────┴─────────────────────┴──────────┘
```

#### ボタンサイズ

| サイズ | 高さ | パディング | フォントサイズ | 用途 |
|-------|------|----------|-------------|------|
| Small | 36px | 12px 16px | 14px | テーブル内アクション |
| **Default** | **44px** | **16px 24px** | **16px** | **通常のボタン** |
| Large | 52px | 20px 32px | 18px | ページ主要アクション |

> 最小タッチターゲットは 44×44px（WCAG 2.2 準拠）

#### ボタン使用ルール

1. **アイコン単独ボタンは極力避ける**: 必ずテキストラベルを付与
2. **アイコン単独が必要な場合**: ツールチップ（`v-tooltip`）でラベルを表示
3. **破壊的操作**: 赤色ボタン + 確認ダイアログを必須とする
4. **主要アクションは1画面に1つ**: 視覚的な優先度を明確に

### カード

ページ内のコンテンツグルーピングに使用する基本コンテナ。

```
┌────────────────────────────────────────────┐
│  カードヘッダー                    [アクション] │  ← 24px padding
│────────────────────────────────────────────│
│                                            │
│  コンテンツ領域                              │  ← 24px padding
│                                            │
│  テキストやフォーム要素がここに配置される        │
│                                            │
└────────────────────────────────────────────┘
 角丸: 10px
 シャドウ: 0 2px 8px rgba(104, 159, 56, 0.08)
 背景: #ffffff
 ボーダー: なし（シャドウで浮遊感を表現）
```

#### カード使用ルール

1. **elevation は 0**: Vuetify のデフォルトシャドウではなく、カスタムのソフトシャドウを使用
2. **角丸は 10px**: 柔らかさを表現
3. **ホバー時のシャドウ変化**: クリック可能なカードのみ
4. **ヘッダーとコンテンツの区切り**: 薄いボーダー（`#eeeeee`）

### フォーム

#### テキスト入力

```
  ラベル *
  ┌──────────────────────────────────────────┐
  │ プレースホルダーテキスト                      │  高さ: 44px
  └──────────────────────────────────────────┘
  ヘルプテキスト（入力のヒント）

  --- エラー時 ---
  ラベル *
  ┌──────────────────────────────────────────┐  ← 赤枠
  │ 入力値                                    │
  └──────────────────────────────────────────┘
  ⚠ エラーメッセージ                              ← 赤テキスト + アイコン
```

#### フォームデザインルール

1. **variant は `outlined`（推奨）**: underlined から outlined へ移行し、入力領域を明確化
   - 高齢者にとって、枠線で囲まれた入力欄の方が認識しやすい
   - 現行の `underlined` は最小限のビジュアルで、入力欄の境界が不明確になりがち
2. **必須マーク**: ラベルの後に赤い `*` を表示（現行の `:has(input[required])` パターンを維持）
3. **ヘルプテキスト**: 入力欄の下に薄いグレーで表示
4. **エラー表示**: 赤枠 + 赤アイコン + 赤テキスト（3要素で伝達）
5. **入力欄の高さ**: 最低 44px

### テーブル（データテーブル）

```
┌─────┬──────────┬──────────┬────────┬──────────┐
│  □  │ 商品名    │ 価格     │ 在庫   │ アクション │  ← ヘッダー行（背景: green-50）
├─────┼──────────┼──────────┼────────┼──────────┤
│  □  │ りんご    │ ¥1,200  │ ● 50   │ [編集]   │  ← 偶数行（白背景）
│  □  │ みかん    │ ¥   800 │ ▲  5   │ [編集]   │  ← 奇数行（green-50背景）
│  □  │ ぶどう    │ ¥2,000  │ ✕  0   │ [編集]   │  ← 在庫0は赤色表示
└─────┴──────────┴──────────┴────────┴──────────┘
 ページネーション: [< 前へ] 1 2 3 ... 10 [次へ >]
```

#### テーブルデザインルール

1. **ゼブラストライプ**: 交互に背景色を変えて行の区別を明確に
2. **ホバーハイライト**: 行ホバー時に薄い緑のハイライト
3. **ソートインジケータ**: ソート方向を矢印アイコンで明示
4. **white-space: nowrap**: テーブルセル内のテキスト折り返しを防止（現行維持）
5. **アクションボタン**: テキストボタンで簡潔に（アイコン + ラベル）

### ナビゲーション（サイドバー）

```
┌─────────────────────┐
│  🌿 ふるマル管理      │  ← ロゴ + アプリ名
│                     │
│  ─────────────────  │
│                     │
│  📊 ダッシュボード     │  ← アイコン + テキスト
│                     │
│  📦 商品管理          │  ← グループヘッダー
│    商品一覧           │
│    商品タグ           │
│    カテゴリ           │
│                     │
│  📋 注文管理          │
│    注文一覧           │
│                     │
│  📹 ライブ配信        │
│    配信スケジュール    │
│    動画管理           │
│                     │
│  👤 ユーザー管理       │
│    顧客一覧           │
│    管理者一覧         │
│    コーディネーター    │
│    生産者一覧         │
│                     │
│  ⚙ システム設定       │
│                     │
│  ─────────────────  │
│  ❓ ヘルプ            │  ← 常設ヘルプリンク
└─────────────────────┘
```

#### ナビゲーションルール

1. **常時展開**: 高齢者はコラプス操作に慣れていないため、ナビゲーション項目は基本的に展開状態
2. **アイコン + テキスト**: アイコンだけのミニ表示は避ける
3. **現在位置の強調**: アクティブ項目を緑背景で明確に表示
4. **階層は最大2段**: 深い階層は避ける
5. **レスポンシブ**: タブレット以下ではハンバーガーメニューで開閉

### ダイアログ

```
┌──────────────────────────────────────────────────┐
│                                            [×]   │
│     ⚠ この操作は取り消せません                       │
│                                                  │
│     選択した商品を削除してもよろしいですか？            │
│     削除すると、関連する注文データからも                │
│     参照できなくなります。                            │
│                                                  │
│              [キャンセル]    [削除する]              │
│                             ^^^^^^^^              │
│                             赤色ボタン              │
└──────────────────────────────────────────────────┘
 角丸: 16px
 オーバーレイ: rgba(0, 0, 0, 0.3)
```

#### ダイアログルール

1. **タイトルは質問形式**: 「〜してもよろしいですか？」
2. **影響範囲を説明**: 操作の結果と影響を平易な日本語で説明
3. **破壊的アクションは右側に赤色**: 安全な選択肢（キャンセル）を左に配置
4. **閉じるボタン**: 右上に `×` ボタンを必ず配置
5. **角丸は大きめ（16px）**: 柔らかい印象

---

## レイアウト

### ページレイアウト構成

```
┌──────────────────────────────────────────────────────────────┐
│ [≡]  ふるマル管理  │  🔔 通知  👤 管理者名  [ログアウト]       │ ← アプリバー
├────────────┬─────────────────────────────────────────────────┤
│            │  ホーム > 商品管理 > 商品一覧                      │ ← パンくずリスト
│ サイドバー  │                                                 │
│            │  商品一覧                                        │ ← ページタイトル
│ (240px)    │  ┌────────────────────────────────────────────┐ │
│            │  │  検索フィルター                               │ │ ← フィルターカード
│            │  └────────────────────────────────────────────┘ │
│            │                                                 │
│            │  ┌────────────────────────────────────────────┐ │
│            │  │  データテーブル                               │ │ ← メインコンテンツ
│            │  │                                            │ │
│            │  │                                            │ │
│            │  └────────────────────────────────────────────┘ │
│            │                                                 │
│            │  ┌────────────────────────────────────────────┐ │
│            │  │  ページネーション                             │ │
│            │  └────────────────────────────────────────────┘ │
└────────────┴─────────────────────────────────────────────────┘
```

### ブレークポイント

| 名前 | 幅 | レイアウト |
|-----|-----|----------|
| Mobile | 〜599px | サイドバー非表示（ハンバーガー）、1カラム |
| Tablet | 600〜1023px | サイドバー折りたたみ可、1カラム |
| Desktop | 1024〜1439px | サイドバー常時表示（240px）、メインコンテンツ |
| Wide | 1440px〜 | サイドバー常時表示、コンテンツ最大幅 1200px |

### レイアウトルール

1. **コンテンツ最大幅**: 1200px（超広幅モニターでの可読性確保）
2. **ページ背景色**: green-50（`#f1f8e9`）で統一
3. **パンくずリスト**: 常にページ最上部に表示
4. **ページタイトル**: パンくずリストの直下、左寄せ、30px
5. **主要アクションボタン**: ページタイトル右に配置（例: 「新規作成」ボタン）

---

## アイコン

### アイコンシステム

Material Design Icons（`@mdi/js`）を継続使用。SVGインポート方式でバンドルサイズを最適化。

### アイコン使用ルール

1. **サイズ**: デフォルト 24px、ナビゲーション 28px、ヘッダー 32px
2. **色**: テキスト色に準拠（個別の色指定は状態表示のみ）
3. **ラベル併記**: アイコンだけで意味を伝えない（ツールチップ必須）
4. **一貫性**: 同じ概念には同じアイコンを使用
   - 作成: `mdi-plus`
   - 編集: `mdi-pencil`
   - 削除: `mdi-delete`
   - 検索: `mdi-magnify`
   - フィルター: `mdi-filter`
   - 設定: `mdi-cog`
   - 通知: `mdi-bell`
   - ヘルプ: `mdi-help-circle`

---

## アニメーション・トランジション

### 基本方針

動きは控えめに。高齢者ユーザーに配慮し、過度なアニメーションは避ける。

### トランジション設定

| 種別 | duration | easing | 用途 |
|------|----------|--------|------|
| 即時 | 100ms | ease-out | ホバー、フォーカス |
| 標準 | 200ms | ease-in-out | 展開、折りたたみ |
| 中間 | 300ms | ease-in-out | ページ遷移、モーダル |
| ゆったり | 500ms | ease-out | 通知のフェードアウト |

### アニメーションルール

1. **`prefers-reduced-motion` の尊重**: OS設定で動きを制限しているユーザーにはアニメーションを無効化
2. **フラッシュ回避**: 画面の急な明滅を避ける（光過敏性発作への配慮）
3. **スクロールアニメーション**: 自動スクロールは最小限に
4. **ローディング**: スピナーまたはスケルトンスクリーンで待機状態を表示

---

## 文言・コピーライティング

### トーン&ボイス

| 項目 | 方針 | OK例 | NG例 |
|------|------|------|------|
| 敬語 | 丁寧語を基本 | 「保存しました」 | 「保存完了！」 |
| 専門用語 | 避ける | 「一覧の並び順を変える」 | 「ソートキーを変更」 |
| エラー | 原因+対処を提示 | 「商品名を入力してください」 | 「必須エラー」 |
| 確認 | 影響を説明 | 「削除すると元に戻せません」 | 「本当に削除？」 |
| ボタン | 動詞で明記 | 「保存する」「削除する」 | 「OK」「実行」 |

### 文言ルール

1. **ボタンラベルは動詞**: 「保存する」「追加する」「削除する」
2. **エラーメッセージは具体的に**: 「○○を入力してください」「○○は△△文字以内で入力してください」
3. **成功メッセージは結果を伝達**: 「商品を保存しました」「注文ステータスを更新しました」
4. **確認ダイアログは影響範囲を説明**: 何が起こるかを平易に記述
5. **カタカナ語は最小限に**: 「ダウンロード」「アップロード」など定着した語のみ使用

---

## アクセシビリティチェックリスト

### 実装時の確認項目

- [ ] テキストのコントラスト比が 4.5:1 以上（大テキストは 3:1 以上）
- [ ] すべてのインタラクティブ要素が 44×44px 以上
- [ ] キーボードのみで全機能が操作可能
- [ ] Tab 順序が視覚的な順序と一致
- [ ] フォーカスインジケータが常に視認可能
- [ ] 画像に適切な alt テキストが設定されている
- [ ] フォームの入力欄に label が紐付いている
- [ ] エラー表示が色だけに依存していない
- [ ] ドラッグ操作に代替手段がある
- [ ] ページタイトルが適切に設定されている
- [ ] 見出しレベルが正しい階層構造になっている
- [ ] `prefers-reduced-motion` を尊重している
- [ ] スクリーンリーダーでの動作を確認している

---

## 関連ドキュメント

- [全体設計（アーキテクチャ）](./admin-ui-refresh.md)
- [技術選定 ADR](./admin-ui-refresh-adr.md)
- [改修設計書](../../spec/internal/20260221_admin-ui-ux-refresh.md)
