# 顧客詳細画面UI改善

| 項目 | 内容 |
|----|--|
| 機能 | 管理画面顧客詳細画面のUI・UX改善 |

## 設計概要

CustomerShow.vue コンポーネントの課題を解決し、より使いやすく保守性の高い顧客詳細画面に改善する。

### 主な課題
1. ハードコードされたタイムラインデータ
2. レスポンシブデザインの最適化不足
3. コンポーネントの責務が大きすぎる
4. 視認性・操作性の改善余地

## 設計詳細

### Web

#### コンポーネント設計

**分割対象コンポーネント:**
- `CustomerInfo.vue` - 顧客基本情報表示
- `CustomerPurchaseStats.vue` - 購入統計情報
- `CustomerOrderHistory.vue` - 注文履歴テーブル
- `CustomerTimeline.vue` - 活動タイムライン

**レイアウト改善:**
- カード間のマージン統一
- モバイル表示時の情報優先度設定
- アクションボタンの配置最適化

#### UI/UX改善項目

**視認性向上:**
- カラー・タイポグラフィの統一
- ステータスチップの視認性改善
- 情報の階層化・グルーピング

**操作性向上:**
- 削除アクションの確認フロー改善
- テーブルのソート・フィルター機能強化
- ローディング状態の表示改善

**レスポンシブ対応:**
- タブレット表示の最適化
- スマートフォン表示での情報優先度設定
- 横スクロール対応

#### タイムライン機能改善

**データ構造:**
```typescript
interface CustomerActivity {
  id: string
  type: 'order' | 'payment' | 'support' | 'system'
  title: string
  description: string
  metadata?: Record<string, any>
  createdAt: number
  userId?: string
  userName?: string
}
```

**表示改善:**
- アイコンによる活動タイプの視覚化
- 時系列ソート機能
- フィルター機能（活動タイプ別）

### API

#### エンドポイント

既存エンドポイントの活用:
- `GET /v1/users/{userId}` - 顧客基本情報
- `GET /v1/users/{userId}/orders` - 注文履歴
- `GET /v1/users/{userId}/activities` - 活動履歴（新規実装想定）

## チェックリスト

### 実装開始前

* [ ] デザインシステムの色・タイポグラフィ定義確認
* [ ] モバイル・タブレット表示要件の明確化
* [ ] タイムライン機能のAPI仕様策定
* [ ] 既存のユーザビリティテスト結果の確認
* [ ] アクセシビリティ要件の確認

### 動作確認

* [ ] 全画面サイズでの表示確認
* [ ] 各ステータス状態での表示確認
* [ ] データが空の場合の表示確認
* [ ] 削除機能のフロー確認
* [ ] パフォーマンス（大量データでの表示速度）確認
* [ ] アクセシビリティ（キーボード操作、スクリーンリーダー）確認

## リリース時確認事項

### リリース順

1. API（活動履歴エンドポイント）
2. Web（UI改善）

### リリース制御

Feature Flagでの段階的リリース推奨

### その他

- 既存データの表示互換性確認
- CSVエクスポート機能への影響確認

## 関連リンク

- [管理画面デザインシステム](../../../docs/rules/design-system.md)
- [コンポーネント設計ガイドライン](../../../docs/rules/component-design.md)