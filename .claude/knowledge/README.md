# .claude/knowledge - ドメイン知識ディレクトリ

このディレクトリは Claude Code が学習・蓄積した**Furumaruプロジェクトのドメイン知識**を整理・保存するディレクトリです。

## 用途の使い分け

### .claude/knowledge（このディレクトリ）
- プロジェクト固有のドメイン知識
- アーキテクチャの理解とまとめ
- ビジネスロジックの解析結果
- データベース設計の理解
- API仕様の要約

### .claude/debug
- 作業過程の詳細ログ
- デバッグとトラブルシューティング
- 問題解決の手順

### docs/
- 正式なプロジェクトドキュメント
- 外部向けドキュメント
- 運用マニュアル

## ディレクトリ構造

```
.claude/knowledge/
├── architecture/           # アーキテクチャ関連
│   ├── microservices.md   # マイクロサービス構成
│   ├── database.md        # データベース設計
│   └── api-gateway.md     # APIゲートウェイ仕様
├── business-logic/         # ビジネスロジック
│   ├── ecommerce.md       # EC機能
│   ├── streaming.md       # ライブストリーミング
│   └── user-management.md # ユーザー管理
├── entities/              # エンティティ分析
│   ├── user.md           # ユーザーエンティティ
│   ├── product.md        # 商品エンティティ
│   └── order.md          # 注文エンティティ
└── patterns/             # 設計パターン
    ├── service-patterns.md # サービス層パターン
    └── testing-patterns.md # テストパターン
```

## ファイル命名規則

- `component-name.md` - コンポーネント別知識
- `pattern_description.md` - 設計パターンの説明
- `analysis_YYYYMMDD_topic.md` - 分析結果

## 記録すべき内容

1. **アーキテクチャ理解**
   - システム全体の構成図
   - サービス間の依存関係
   - データフローの整理

2. **ドメインモデル**
   - エンティティの役割と関係
   - ビジネスルールの整理
   - 制約条件とバリデーション

3. **設計パターン**
   - プロジェクト内で使われているパターン
   - ベストプラクティス
   - アンチパターンの回避方法

4. **API仕様理解**
   - エンドポイントの整理
   - リクエスト・レスポンス形式
   - 認証・認可の仕組み

## 更新ルール

- 新しい理解が得られた時は即座に記録
- 既存の知識が更新された場合は上書き
- 不正確な情報は削除または修正
- 日付とともに更新理由を記録